<%= @category.name %>

<div class="row">
  <div class="col-md-9">
    <h3><%= @category.name %></h3>
    <p><%= @category.description %></p>
    <%= link_to "New Topic", new_category_topic_path(@category), class: 'btn btn-success' %> 
  </div>
  <div class="col-md-3">
    <br>
    <br>
    <%= link_to "Edit", edit_category_path(@category), class: 'edit-link' %>&nbsp;
    <%= link_to "Delete", @category, method: :delete, class: 'delete-link', data: { confirm: 'Are you sure you want to delete this topic?' } %>
  </div>  
</div>

<div class="row">
  <br>
  <div class="col-md-12">
    <div class="media">
      <div class="media-body">
      <% def print_tree(item, level)
           items = @tree[item]
           unless items == nil
             indent = level > 0 ? '&nbsp;&nbsp;'* level + '--' : "" 
             items.each do |e| %>
                <h4 class="media-heading">
                  <%= indent.html_safe %><%= link_to e.name, category_topic_path(@category, e) %>
                </h4>                 
            <% print_tree(e, level + 1)            
           end  %>
           <p></p>
       <% end
         end
         print_tree(@root, 0) %>
      </div>
    </div>   
  </div>
</div>